(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{1624:function(s,e,a){Promise.resolve().then(a.bind(a,3172))},3172:function(s,e,a){"use strict";a.r(e),a.d(e,{default:function(){return n}});var l=a(7437),c=a(2265);function t(s){let{school:e}=s,a="/api/placeholder-image",c=e.image?"/schoolImages/".concat(e.image):a;return(0,l.jsxs)("div",{className:"school-card",children:[(0,l.jsx)("div",{className:"school-image",children:(0,l.jsx)("img",{src:c,alt:e.name,onError:s=>{s.target.src=a}})}),(0,l.jsxs)("div",{className:"school-content",children:[(0,l.jsx)("h3",{className:"school-name",children:e.name}),(0,l.jsxs)("div",{className:"school-details",children:[(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"icon",children:"\uD83D\uDCCD"}),(0,l.jsx)("span",{className:"text",children:e.address})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"icon",children:"\uD83C\uDFD9️"}),(0,l.jsxs)("span",{className:"text",children:[e.city,", ",e.state]})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"icon",children:"\uD83D\uDCDE"}),(0,l.jsx)("span",{className:"text",children:e.contact})]}),(0,l.jsxs)("div",{className:"detail-item",children:[(0,l.jsx)("span",{className:"icon",children:"✉️"}),(0,l.jsx)("span",{className:"text",children:e.email_id})]})]})]}),(0,l.jsx)("div",{className:"school-actions",children:(0,l.jsx)("button",{className:"btn btn-outline btn-small",children:"View Details"})})]})}function n(){let[s,e]=(0,c.useState)([]),[a,n]=(0,c.useState)([]),[i,o]=(0,c.useState)(!0),[r,d]=(0,c.useState)(""),[h,m]=(0,c.useState)("");(0,c.useEffect)(()=>{u()},[]),(0,c.useEffect)(()=>{x()},[s,r,h]);let u=async()=>{try{let s=await fetch("/api/schools"),a=await s.json();e(a),o(!1)}catch(s){console.error("Error fetching schools:",s),o(!1)}},x=()=>{let e=s;r&&(e=e.filter(s=>s.name.toLowerCase().includes(r.toLowerCase())||s.city.toLowerCase().includes(r.toLowerCase())||s.address.toLowerCase().includes(r.toLowerCase()))),h&&(e=e.filter(s=>s.state.toLowerCase()===h.toLowerCase())),n(e)},j=[...new Set(s.map(s=>s.state))];return i?(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"loading-container",children:[(0,l.jsx)("div",{className:"spinner"}),(0,l.jsx)("p",{children:"Loading schools..."})]})}):(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("div",{className:"page-header",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"All Schools"}),(0,l.jsx)("p",{children:"Browse through our collection of registered schools"})]}),(0,l.jsx)("a",{href:"/addSchool",className:"btn btn-primary",children:"Add New School"})]}),s.length>0&&(0,l.jsxs)("div",{className:"filters-section",children:[(0,l.jsx)("div",{className:"search-box",children:(0,l.jsx)("input",{type:"text",placeholder:"Search schools by name, city, or address...",value:r,onChange:s=>d(s.target.value),className:"search-input"})}),(0,l.jsx)("div",{className:"filter-box",children:(0,l.jsxs)("select",{value:h,onChange:s=>m(s.target.value),className:"filter-select",children:[(0,l.jsx)("option",{value:"",children:"All States"}),j.map(s=>(0,l.jsx)("option",{value:s,children:s},s))]})}),(r||h)&&(0,l.jsx)("button",{onClick:()=>{d(""),m("")},className:"btn btn-secondary",children:"Clear Filters"})]}),(0,l.jsx)("div",{className:"results-info",children:(0,l.jsx)("p",{children:0===a.length&&0===s.length?"No schools found. Add your first school!":"Showing ".concat(a.length," of ").concat(s.length," schools")})}),0===a.length&&0===s.length?(0,l.jsxs)("div",{className:"empty-state",children:[(0,l.jsx)("h2",{children:"\uD83C\uDFEB No Schools Yet"}),(0,l.jsx)("p",{children:"Get started by adding your first school to the system."}),(0,l.jsx)("a",{href:"/addSchool",className:"btn btn-primary",children:"Add First School"})]}):0===a.length?(0,l.jsxs)("div",{className:"empty-state",children:[(0,l.jsx)("h2",{children:"\uD83D\uDD0D No Results Found"}),(0,l.jsx)("p",{children:"Try adjusting your search terms or filters."}),(0,l.jsx)("button",{onClick:()=>{d(""),m("")},className:"btn btn-secondary",children:"Clear All Filters"})]}):(0,l.jsx)("div",{className:"schools-grid",children:a.map(s=>(0,l.jsx)(t,{school:s},s.id))})]})}}},function(s){s.O(0,[971,117,744],function(){return s(s.s=1624)}),_N_E=s.O()}]);